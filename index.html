<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</title>
    <style>
        :root {
            --tg-theme-bg-color: #1e1e1e;
            --tg-theme-text-color: #ffffff;
            --tg-theme-hint-color: #aaaaaa;
            --tg-theme-link-color: #3390ec;
            --tg-theme-button-color: #3390ec;
            --tg-theme-button-text-color: #ffffff;
            --tg-theme-secondary-bg-color: #2d2d2d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--tg-theme-bg-color);
            color: var(--tg-theme-text-color);
            line-height: 1.4;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
        }

        .logo {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #3390ec;
        }

        .subtitle {
            color: var(--tg-theme-hint-color);
            font-size: 16px;
        }

        .login-section {
            background: var(--tg-theme-secondary-bg-color);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            margin-bottom: 20px;
        }

        .login-btn {
            background: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: opacity 0.2s;
        }

        .login-btn:hover {
            opacity: 0.9;
        }

        .stats-section {
            display: none;
        }

        .user-card {
            background: var(--tg-theme-secondary-bg-color);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #3390ec, #eb5757);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: white;
        }

        .user-info h2 {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .user-info p {
            color: var(--tg-theme-hint-color);
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .stat-card {
            background: var(--tg-theme-secondary-bg-color);
            border-radius: 16px;
            padding: 20px;
            transition: transform 0.2s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
            color: #3390ec;
        }

        .stat-label {
            color: var(--tg-theme-hint-color);
            font-size: 14px;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: var(--tg-theme-hint-color);
        }

        .error {
            background: #eb5757;
            color: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            display: none;
        }

        @media (min-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">Telegram Stats</div>
            <div class="subtitle">–£–∑–Ω–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞</div>
        </div>

        <div class="error" id="errorMessage"></div>

        <div class="login-section" id="loginSection">
            <p style="margin-bottom: 20px;">–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram</p>
            <button class="login-btn" onclick="loginWithTelegram()">–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram</button>
        </div>

        <div class="stats-section" id="statsSection">
            <div class="user-card">
                <div class="avatar" id="userAvatar">T</div>
                <div class="user-info">
                    <h2 id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</h2>
                    <p id="userStatus">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="accountAge">-</div>
                    <div class="stat-label">–î–Ω–µ–π —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="publicChats">-</div>
                    <div class="stat-label">–ü—É–±–ª–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="totalMessages">-</div>
                    <div class="stat-label">–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="voiceMessages">-</div>
                    <div class="stat-label">–ì–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="videoMessages">-</div>
                    <div class="stat-label">–í–∏–¥–µ–æ —Å–æ–æ–±—â–µ–Ω–∏–π</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="activeTime">-</div>
                    <div class="stat-label">–°–∞–º–æ–µ –∞–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="lastMessage">-</div>
                    <div class="stat-label">–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="fastestReply">-</div>
                    <div class="stat-label">–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç (—Å–µ–∫)</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="commonWords">-</div>
                    <div class="stat-label">–ß–∞—Å—Ç—ã–µ —Å–ª–æ–≤–∞</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="firstMessage">-</div>
                    <div class="stat-label">–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="pastUsernames">-</div>
                    <div class="stat-label">–ü—Ä–æ—à–ª—ã–µ —é–∑–µ—Ä–Ω–µ–π–º—ã</div>
                </div>

                <div class="stat-card">
                    <div class="stat-value" id="commonSticker">-</div>
                    <div class="stat-label">–ü–æ–ø—É–ª—è—Ä–Ω—ã–π —Å—Ç–∏–∫–µ—Ä</div>
                </div>
            </div>
        </div>

        <div class="loading" id="loadingSection" style="display: none;">
            –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...
        </div>
    </div>

    <script>
        // Telegram Web App initialization
        let tg = window.Telegram.WebApp;

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
        }

        function hideError() {
            document.getElementById('errorMessage').style.display = 'none';
        }

        function loginWithTelegram() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
            // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–º–∏—Ç–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('loadingSection').style.display = 'block';

            setTimeout(() => {
                simulateUserData();
            }, 2000);
        }

        function simulateUserData() {
            // –ò–º–∏—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const userData = {
                firstName: "–ò–≤–∞–Ω",
                lastName: "–ò–≤–∞–Ω–æ–≤",
                username: "ivanov",
                registrationDate: new Date(Date.now() - 365 * 24 * 60 * 60 * 1000), // 1 –≥–æ–¥ –Ω–∞–∑–∞–¥
                publicChats: 15,
                totalMessages: 2847,
                voiceMessages: 42,
                videoMessages: 18,
                activeTime: "19:00-21:00",
                lastMessage: "2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥",
                fastestReply: 3,
                commonWords: "–ø—Ä–∏–≤–µ—Ç, —Å–ø–∞—Å–∏–±–æ, –æ–∫",
                firstMessage: "15.03.2023",
                pastUsernames: 3,
                commonSticker: "üëç"
            };

            displayUserData(userData);
        }

        function displayUserData(data) {
            document.getElementById('loadingSection').style.display = 'none';
            document.getElementById('statsSection').style.display = 'block';

            // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            document.getElementById('userName').textContent = `${data.firstName} ${data.lastName}`;
            document.getElementById('userAvatar').textContent = data.firstName[0];
            document.getElementById('userStatus').textContent = `@${data.username}`;

            // –ó–∞–ø–æ–ª–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            const daysSinceRegistration = Math.floor((new Date() - data.registrationDate) / (1000 * 60 * 60 * 24));
            document.getElementById('accountAge').textContent = daysSinceRegistration;
            document.getElementById('publicChats').textContent = data.publicChats;
            document.getElementById('totalMessages').textContent = data.totalMessages.toLocaleString();
            document.getElementById('voiceMessages').textContent = data.voiceMessages;
            document.getElementById('videoMessages').textContent = data.videoMessages;
            document.getElementById('activeTime').textContent = data.activeTime;
            document.getElementById('lastMessage').textContent = data.lastMessage;
            document.getElementById('fastestReply').textContent = data.fastestReply;
            document.getElementById('commonWords').textContent = data.commonWords;
            document.getElementById('firstMessage').textContent = data.firstMessage;
            document.getElementById('pastUsernames').textContent = data.pastUsernames;
            document.getElementById('commonSticker').textContent = data.commonSticker;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏)
        function checkAuth() {
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞/—Å–µ—Å—Å–∏–∏
            return false;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            if (checkAuth()) {
                document.getElementById('loginSection').style.display = 'none';
                simulateUserData();
            }
        });
    </script>
</body>
</html>
